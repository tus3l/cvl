.mysystem-container {
  --bg: #070b0b;
  --glass: rgba(255,255,255,0.05);
  --border: rgba(0,255,165,0.25);
  --text: #c8ffea;
  --accent: #00ffa5;
  --accent-soft: rgba(0,255,165,0.15);
  position: relative;
  width: 100%;
  height: 100%;
  padding: 18px;
  background: radial-gradient(1200px 600px at 20% 0%, rgba(0,255,165,0.08), transparent 60%),
              radial-gradient(800px 600px at 80% 100%, rgba(0,128,255,0.06), transparent 60%),
              var(--bg);
  color: var(--text);
  font-family: 'VT323', 'Courier New', Courier, monospace;
  overflow: hidden;
}

.mysystem-title {
  color: #baffea;
  font-size: 26px;
  margin: 4px 0 12px 0;
  letter-spacing: 0.5px;
  text-shadow: 0 0 10px rgba(0,255,165,0.6);
}

.sys-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 14px;
}
.sys-hint { color: #83ffd6; opacity: 0.85; }
.sys-status { display: flex; gap: 8px; align-items: center; }
.chip { border: 1px solid var(--border); color: #baffea; padding: 4px 8px; border-radius: 999px; background: var(--glass); }

/* Subtle pulsing circuit-board background */
.mysystem-container::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(transparent 60%, rgba(0, 255, 165, 0.06) 61%),
    linear-gradient(0deg, rgba(0,255,165,0.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,255,165,0.08) 1px, transparent 1px);
  background-size: 100% 100%, 24px 24px, 24px 24px;
  filter: contrast(100%);
  pointer-events: none;
  animation: bgPulse 6s infinite alternate ease-in-out;
}

@keyframes bgPulse {
  0% { opacity: 0.5; }
  100% { opacity: 0.7; }
}

.mysystem-grid {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 16px;
  position: relative;
}

.mysystem-left, .mysystem-right {
  position: relative;
}

.panel {
  border: 1px solid rgba(0,255,165,0.35);
  box-shadow: 0 0 18px rgba(0,255,165,0.15), inset 0 0 12px rgba(0,255,165,0.08);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
  background: linear-gradient(180deg, rgba(5,10,10,0.9), rgba(8,12,12,0.9));
}

.panel-header {
  color: #83ffd6;
  text-shadow: 0 0 8px rgba(0,255,165,0.6);
  font-size: 20px;
  margin-bottom: 8px;
}

.panel-slots {
  display: grid;
  gap: 12px;
}

.core-slots { grid-template-columns: repeat(3, 1fr); }
.attack-slots { grid-template-columns: repeat(2, 1fr); }
.defense-slots { grid-template-columns: repeat(2, 1fr); }

.slot { 
  position: relative;
  min-height: 160px;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(0,20,18,0.50), rgba(0,20,18,0.25));
  box-shadow: inset 0 0 24px var(--accent-soft);
  overflow: hidden;
  transition: transform 120ms ease, box-shadow 160ms ease, border-color 160ms ease;
}
.slot:hover { transform: translateY(-2px); box-shadow: inset 0 0 28px rgba(0,255,165,0.20), 0 8px 20px rgba(0,0,0,0.35); }
.slot.valid { border-color: rgba(0,255,165,0.55); }
.slot.invalid { border-color: rgba(255,64,64,0.75); box-shadow: inset 0 0 28px rgba(255,64,64,0.18); }
.slot.equipped .slot-label, .slot.equipped .slot-placeholder { display: none; }

.slot.valid { box-shadow: inset 0 0 16px rgba(0,255,165,0.35); }
.slot.invalid { box-shadow: inset 0 0 16px rgba(255,0,80,0.35); border-color: rgba(255,0,80,0.4); }

.slot-label {
  position: absolute;
  top: 8px; left: 8px;
  color: #66ffd1;
  font-size: 16px;
}

.slot-placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #59e7bf;
}

.scanline {
  position: absolute;
  inset: 0;
  background: linear-gradient(transparent 92%, rgba(0,255,165,0.18) 95%, transparent 100%);
  background-size: 100% 6px;
  animation: scan 2.2s linear infinite;
  pointer-events: none;
}

@keyframes scan {
  from { background-position-y: 0; }
  to { background-position-y: 100%; }
}

.placeholder-text { animation: blink 1.1s steps(2, start) infinite; }
@keyframes blink { to { visibility: hidden; } }

.slot-loaded { 
  position: absolute; inset: 0; 
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 8px;
}

.slot-thumb { width: 96px; height: 96px; border-radius: 10px; overflow: hidden; box-shadow: 0 0 12px rgba(0,255,165,0.2); }
.slot-thumb img { width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 0 4px rgba(0,255,165,0.25)); }

/* Equipped: show only centered image with safe padding */
.slot.equipped { display: flex; align-items: center; justify-content: center; }
.slot-image-only { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; padding: 6px; }
.slot-image-only img { max-width: 90%; max-height: 90%; object-fit: contain; display: block; margin: auto; filter: drop-shadow(0 0 4px rgba(0,255,165,0.3)); }

/* Glitch effect on hover */
.slot-thumb.glitch { animation: glitch 420ms steps(2, end) 1; }
@keyframes glitch {
  0% { transform: translate(0,0); filter: hue-rotate(0deg); }
  33% { transform: translate(-2px,1px); filter: hue-rotate(35deg) saturate(1.4); }
  66% { transform: translate(3px,-2px); filter: hue-rotate(-25deg) saturate(1.6); }
  100% { transform: translate(0,0); filter: hue-rotate(0deg); }
}

.slot-name { color: #baffea; text-shadow: 0 0 6px rgba(0,255,165,0.4); font-size: 16px; }
.slot-eject { 
  background: transparent; border: 1px solid rgba(255,100,120,0.55); color: #ff8fa0; 
  padding: 4px 8px; border-radius: 4px; cursor: pointer; font-family: inherit; 
}
.slot-eject:hover { box-shadow: 0 0 10px rgba(255,80,120,0.4); }

.slot-tooltip {
  position: absolute; bottom: 8px; left: 8px; right: 8px;
  background: rgba(10,18,18,0.85);
  border: 1px solid rgba(0,255,165,0.35);
  border-radius: 6px;
  padding: 8px;
  box-shadow: 0 0 16px rgba(0,255,165,0.25);
}
.tooltip-title { color: #8cffdb; margin-bottom: 4px; }
.tooltip-body { color: #bdfced; font-size: 14px; }

.slot-error { position: absolute; bottom: 6px; right: 8px; color: #ff8aa0; text-shadow: 0 0 6px rgba(255,0,80,0.5); font-size: 14px; }
.slot-ok    { position: absolute; bottom: 6px; right: 8px; color: #7affc9; text-shadow: 0 0 6px rgba(0,255,165,0.5); font-size: 14px; }

/* Inventory Sidebar */
.inventory-sidebar {
  border: 1px solid rgba(0,255,165,0.35);
  box-shadow: 0 0 18px rgba(0,255,165,0.15), inset 0 0 12px rgba(0,255,165,0.08);
  border-radius: 8px;
  padding: 12px;
  background: linear-gradient(180deg, rgba(5,10,10,0.9), rgba(8,12,12,0.9));
  height: 100%;
}
.inv-header { color: #83ffd6; text-shadow: 0 0 8px rgba(0,255,165,0.6); font-size: 20px; margin-bottom: 8px; }
.inv-list { display: grid; gap: 10px; grid-auto-rows: minmax(64px, auto); }
.inv-empty { color: #70e9cb; opacity: 0.8; }

.inv-item { 
  display: grid; grid-template-columns: 64px 1fr; gap: 10px; align-items: center; 
  padding: 8px; border: 1px dashed rgba(0,255,165,0.25); border-radius: 8px; background: rgba(0,20,18,0.35);
}
.inv-item:hover { box-shadow: inset 0 0 12px rgba(0,255,165,0.22); }
.inv-item-thumb { width: 64px; height: 64px; border-radius: 6px; overflow: hidden; background: rgba(0,255,165,0.08); }
.inv-item-thumb img { width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 0 4px rgba(0,255,165,0.25)); }
.pixel-box { width: 100%; height: 100%; background: repeating-linear-gradient(90deg, rgba(0,255,165,0.2) 0 4px, transparent 4px 8px); }
.inv-item-name { color: #c8ffea; }
.inv-item-cat  { color: #7affc9; font-size: 13px; opacity: 0.9; }

/* Category color hints */
.inv-item.attack__primaryWeapon { border-color: rgba(255,140,0,0.4); }
.inv-item.attack__exploit      { border-color: rgba(255,210,0,0.35); }
.inv-item.defense__stealth     { border-color: rgba(0,170,255,0.45); }
.inv-item.defense__firewall    { border-color: rgba(255,60,60,0.45); }
.inv-item.core__cpu, .inv-item.core__ram, .inv-item.core__cooling { border-color: rgba(0,255,165,0.45); }
/* Layout */
.mysystem-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 14px; }
.mysystem-left { display: grid; grid-template-rows: auto auto auto; gap: 14px; }
.mysystem-right { }

.sys-card { border: 1px solid var(--border); background: var(--glass); border-radius: 12px; padding: 12px; backdrop-filter: blur(6px); }
.card-title { color: #baffea; font-size: 18px; margin-bottom: 8px; }
.slots-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.slot-label { color: #83ffd6; margin: 6px 8px; font-size: 14px; }
.slot-loaded { display: none; }
.slot-name { display: none; }
.slot-eject { display: none; }
.slot-placeholder { display: grid; place-items: center; height: 120px; opacity: 0.8; }
.placeholder-text { color: #7affc9; }
.slot-tooltip { position: absolute; right: 10px; bottom: 10px; background: rgba(6,10,10,0.95); border: 1px solid rgba(0,255,165,0.25); border-radius: 8px; padding: 8px 10px; box-shadow: 0 8px 18px rgba(0,0,0,0.45); }
.tooltip-title { color: #baffea; margin-bottom: 4px; }
.tooltip-body { color: #83ffd6; }
.slot-error { color: #ff6b6b; margin: 8px; }
.slot-ok { color: #7affc9; margin: 8px; }

/* Inventory */
.inventory-sidebar { border: 1px solid var(--border); border-radius: 12px; background: var(--glass); padding: 10px; backdrop-filter: blur(6px); }
.inv-header { color: #baffea; margin-bottom: 8px; }
.inv-list { display: grid; grid-template-columns: 1fr; gap: 8px; max-height: 520px; overflow: auto; }
.inv-item { display: grid; grid-template-columns: 74px 1fr; align-items: center; gap: 10px; border: 1px solid var(--border); border-radius: 10px; background: linear-gradient(180deg, rgba(0,20,18,0.40), rgba(0,20,18,0.20)); padding: 8px; }
.inv-item:hover { border-color: rgba(0,255,165,0.55); box-shadow: inset 0 0 20px var(--accent-soft); }
.inv-item-thumb { width: 74px; height: 74px; border-radius: 8px; overflow: hidden; background: rgba(0,255,165,0.06); }
.inv-item-meta { }
.inv-empty { color: #83ffd6; opacity: 0.8; padding: 8px; }

/* Code-based accent colors for clarity and consistency */
.slot.code-rusty_cpu, .slot.code-rusty_cooling,
.inv-item.code-rusty_cpu, .inv-item.code-rusty_cooling {
  border-color: rgba(0,255,0,0.75) !important;
  box-shadow: inset 0 0 14px rgba(0,255,0,0.28);
}

.slot.code-vpn_active, .inv-item.code-vpn_active {
  border-color: rgba(0,128,255,0.65) !important;
  box-shadow: inset 0 0 14px rgba(0,128,255,0.22);
}

.slot.code-rtx_4090_mining, .inv-item.code-rtx_4090_mining {
  border-color: rgba(255,215,0,0.70) !important;
  box-shadow: inset 0 0 16px rgba(255,215,0,0.25);
}

.slot.code-quantum_cpu, .inv-item.code-quantum_cpu {
  border-color: rgba(163,53,238,0.75) !important;
  box-shadow: inset 0 0 16px rgba(163,53,238,0.30);
}

/* Rainbow animated border for Zero-Day */
.slot.code-zero_day, .inv-item.code-zero_day { position: relative; }
@property --ms-angle { syntax: '<angle>'; inherits: false; initial-value: 0deg; }
@keyframes msRainbowRotate { to { --ms-angle: 360deg; } }
.slot.code-zero_day::before, .inv-item.code-zero_day::before {
  content: '';
  position: absolute; inset: -2px; border-radius: 10px; padding: 2px;
  background: conic-gradient(from var(--ms-angle), red, magenta, blue, cyan, lime, yellow, red);
  -webkit-mask:
    linear-gradient(#0000, #000 0) content-box,
    linear-gradient(#000, #000);
  mask-composite: exclude;
  animation: msRainbowRotate 6s linear infinite;
}

@media (max-width: 900px) {
  .mysystem-grid { grid-template-columns: 1fr; }
  .slots-grid { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 600px) {
  .slots-grid { grid-template-columns: 1fr; }
  .slot { min-height: 120px; }
  .picker-list { grid-template-columns: 1fr; }
}

/* Picker modal overlay */
.picker-overlay {
  position: fixed; inset: 0; display: grid; place-items: center;
  background: rgba(0,0,0,0.6);
  z-index: 1000;
}
.picker-modal {
  width: min(680px, 92vw);
  border: 1px solid var(--border);
  border-radius: 12px;
  background: rgba(7,11,11,0.95);
  box-shadow: 0 14px 32px rgba(0,0,0,0.55);
}
.picker-header { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; border-bottom: 1px solid rgba(0,255,165,0.25); }
.picker-title { color: #baffea; font-size: 18px; }
.picker-close { border: 1px solid var(--border); background: var(--glass); color: #baffea; padding: 6px 10px; border-radius: 8px; cursor: pointer; }
.picker-body { padding: 12px; }
.picker-list { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; max-height: 380px; overflow: auto; }
.picker-item { display: grid; grid-template-columns: 72px 1fr auto; align-items: center; gap: 10px; border: 1px solid var(--border); border-radius: 10px; background: linear-gradient(180deg, rgba(0,20,18,0.40), rgba(0,20,18,0.20)); padding: 8px; }
.picker-item:hover { border-color: rgba(0,255,165,0.55); box-shadow: inset 0 0 20px var(--accent-soft); }
.picker-thumb { width: 72px; height: 72px; border-radius: 8px; overflow: hidden; background: rgba(0,255,165,0.06); }
.picker-thumb img { width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 0 4px rgba(0,255,165,0.25)); }
.picker-meta { }
.picker-name { color: #baffea; font-size: 18px; }
.picker-cat { color: #83ffd6; font-size: 14px; }
.picker-select { border: 1px solid var(--border); background: var(--glass); color: #baffea; padding: 6px 10px; border-radius: 8px; cursor: pointer; }
.picker-empty { color: #83ffd6; opacity: 0.85; padding: 8px; text-align: center; }

/* Code-based accent colors for clarity and consistency */
.slot.code-rusty_cpu, .slot.code-rusty_cooling,
.inv-item.code-rusty_cpu, .inv-item.code-rusty_cooling {
  border-color: rgba(0,255,0,0.75) !important;
  box-shadow: inset 0 0 14px rgba(0,255,0,0.28);
}

.slot.code-vpn_active, .inv-item.code-vpn_active {
  border-color: rgba(0,128,255,0.65) !important;
  box-shadow: inset 0 0 14px rgba(0,128,255,0.22);
}

.slot.code-rtx_4090_mining, .inv-item.code-rtx_4090_mining {
  border-color: rgba(255,215,0,0.70) !important;
  box-shadow: inset 0 0 16px rgba(255,215,0,0.25);
}

.slot.code-quantum_cpu, .inv-item.code-quantum_cpu {
  border-color: rgba(163,53,238,0.75) !important;
  box-shadow: inset 0 0 16px rgba(163,53,238,0.30);
}

/* Rainbow animated border for Zero-Day */
.slot.code-zero_day, .inv-item.code-zero_day { position: relative; }
@property --ms-angle { syntax: '<angle>'; inherits: false; initial-value: 0deg; }
@keyframes msRainbowRotate { to { --ms-angle: 360deg; } }
.slot.code-zero_day::before, .inv-item.code-zero_day::before {
  content: '';
  position: absolute; inset: -2px; border-radius: 10px; padding: 2px;
  background: conic-gradient(from var(--ms-angle), red, magenta, blue, cyan, lime, yellow, red);
  -webkit-mask:
    linear-gradient(#0000, #000 0) content-box,
    linear-gradient(#000, #000);
  mask-composite: exclude;
  animation: msRainbowRotate 6s linear infinite;
}
